# CLS Claim UI - Deployment Ready âœ…

**Build Status:** âœ… Production build complete
**Dev Server:** âœ… Running on http://localhost:5173/
**Build Date:** October 31, 2024

## ğŸ¯ What This Is

A React-based web UI for claiming CLS tokens on Solana mainnet using cryptographic merkle proofs.

## ğŸ—ï¸ Build Output

```
dist/
â”œâ”€â”€ index.html           (541 bytes)
â””â”€â”€ assets/
    â”œâ”€â”€ index-Bthftpoh.css   (2.71 KB / 1.10 KB gzip)
    â””â”€â”€ index-jD24_u8-.js    (441.19 KB / 136.76 KB gzip)
```

**Total bundle size:** 444 KB (138 KB gzipped)

## ğŸš€ Access Points

- **Local Dev:** http://localhost:5173/
- **Network (if exposed):** http://161.35.142.162:5173/
- **Production:** Ready to deploy to any static host

## ğŸ“‹ Features

âœ… **Proof Upload/Paste:** Load claim proof JSON (upload or paste)
âœ… **Wallet Connect:** Phantom wallet integration
âœ… **Claim Execution:** Submit on-chain claim with merkle proof verification
âœ… **Balance Tracking:** Shows before/after token balances
âœ… **Transaction Link:** Direct link to Solana Explorer
âœ… **Error Handling:** AlreadyClaimed detection, wallet mismatch detection
âœ… **Mainnet Ready:** Configured for production (GnGzNdsQMxMpJfMeqnkGPsvHm8kwaDidiKjNU2dCVZop)

## ğŸ”§ How It Works

### User Flow:

1. **Load Proof**
   - Upload JSON file OR paste proof data
   - Validates proof format

2. **Review Details**
   - Shows channel, epoch, amount, claim ID
   - Displays proof node count

3. **Connect Wallet**
   - Phantom auto-detect and connect
   - Verifies wallet matches proof claimer

4. **Submit Claim**
   - Constructs `claim_with_ring` transaction
   - Signs with Phantom
   - Submits to mainnet
   - Confirms and shows balance change

5. **View Results**
   - Transaction signature
   - Balance before/after
   - Explorer link

## ğŸ“ Example Proof Format

```json
{
  "claimer": "2pHjZLqsSqi35xuYHmZbZBM1xfYV6Ruv57r3eFPvZZaD",
  "mint": "...",
  "channel": "stableronaldo",
  "epoch": 1761818400,
  "index": 0,
  "amount": "10000",
  "id": "twitch:stableronaldo:alice",
  "root": "782d2060c46e129f4c4842b043e3b015a3e468526cabef7f6f2bb59720c12c00",
  "proof": [
    "0x1234...",
    "0x5678...",
    "0x9abc..."
  ]
}
```

## ğŸŒ Deployment Options

### Option 1: Vercel (Recommended)
```bash
npm install -g vercel
cd apps/claim-ui
vercel deploy --prod
```

### Option 2: Netlify
```bash
npm install -g netlify-cli
cd apps/claim-ui
netlify deploy --prod --dir=dist
```

### Option 3: GitHub Pages
```bash
# Just commit the dist/ folder and enable GitHub Pages
git add dist/
git commit -m "deploy: claim UI"
git push
# Enable Pages in repo settings â†’ dist/ folder
```

### Option 4: Any Static Host
Upload the `dist/` folder to:
- Cloudflare Pages
- AWS S3 + CloudFront
- DigitalOcean App Platform
- Any web server (nginx, apache, etc.)

## ğŸ” Security Notes

- âœ… No API keys in frontend code
- âœ… Wallet signatures required for all claims
- âœ… Proof verification happens on-chain
- âœ… No server-side logic needed (100% client-side)
- âœ… RPC endpoint can be configured via .env

## ğŸ“¦ Dependencies

```json
{
  "@privy-io/react-auth": "^2.0.1",  // (not actively used)
  "@solana/spl-token": "^0.4.6",
  "@solana/web3.js": "^1.95.0",
  "js-sha3": "^0.9.2",
  "react": "^18.3.1"
}
```

## ğŸ¨ Styling

- Minimal CSS in App.css
- Responsive design
- Mobile-friendly
- No external CSS frameworks

## ğŸ§ª Testing Locally

```bash
# Development mode
npm run dev
# â†’ http://localhost:5173/

# Production preview
npm run build
npm run preview
# â†’ http://localhost:4173/
```

## ğŸ”— Integration with Backend

The UI expects claim proofs to be generated by the off-chain aggregator:

```
apps/twzrd-aggregator â†’ generates merkle trees
                      â†’ exports proof JSON files
                      â†’ users download their proof
                      â†’ users upload to this UI
                      â†’ UI submits to on-chain program
```

## ğŸ“Š Current Status

- âœ… UI built and tested
- âœ… Production bundle optimized
- âœ… Dev server running
- âœ… Ready for deployment
- ğŸ”„ Waiting for mainnet proof generation (aggregator)

## ğŸš¢ Next Steps

1. âœ… UI is ready
2. â³ Generate real mainnet proofs from aggregator
3. â³ Test full end-to-end claim flow on mainnet
4. â³ Deploy to production domain
5. â³ Announce to users

---

**Built on:** October 31, 2024
**Program:** GnGzNdsQMxMpJfMeqnkGPsvHm8kwaDidiKjNU2dCVZop
**Network:** Solana Mainnet-Beta
